<!--
    Page and .js developed by Alwin Nocom
    
    Citation for the code turned in for CS 340 Step 5
    Date: 11/16/2022
    Adapted from Michael McDonell's adaptation of the Node Starter App
    Node Source URL: https://github.com/osu-cs340-ecampus/nodejs-starter-app
-->
<head>
<title>Adults</title>
</head>


<h1>Adults</h1>
<h2>Browse, Update or Delete Adults</h2>
<legend><strong><a href='/orders'><button>Register a New Adult on the Orders Page</button></a></strong></legend>   
<br/>
<legend><strong><a href="#addAdult"><button>Add a New Adult Below</button></a></strong></legend>
<br/>

 <legend><strong>Uppdate Contact Information</strong></legend>
<div id="updateAdult">
    <form id="updateAdultAjax">
        <label for="updateName">Adult Name: </label>
        <select name="updateNameUpdate" id="updateNameUpdate">
            <option value="test">Select an Adult</option>
            {{#each data}}
            <option value="{{this.adultID}}">{{this.firstName}} {{this.lastName}}</option>
            {{/each}}
        </select>

        <label for="updateFirstName">First Name</label>
            <input type="text" name="updateFirstName" id="updateFirstName">

            <label for="updateLastName">Last Name</label>
            <input type="text" name="updateLastName" id="updateLastName">

            <label for="updatePhone">Phone</label>
            <input type="text" name="updatePhone" id="updatePhone">

            <label for="updateEmail">Email</label>
            <input type="text" name="updateEmail" id="updateEmail">
            <br>
             <label for="updateIsGuardian">Are You a Guardian?</label>
            <!-- <input type="text" name="updateisGuardian" id="updateIsGuardian"> -->
            <select name="updateIsGuardian" id="updateIsGuardian">
                    <option value="0">No</option>
                    <option value="1">Yes</option>
            </select>

            <label for="updateConnectedAdultID">Connected Adult ID</label>
            <!-- <input type="number" name="updateConnectedAdultID" id="updateConnectedAdultID"> -->
            <select name="updateConnectedAdultID" id="updateConnectedAdultID">
                <option value=""> Select secondary Adult guardian</option>
                {{#each data}}
                    <option value="{{this.adultID}}">{{this.firstName}} {{this.lastName}}</option>
                {{/each}}
            </select>
        <input type="submit">
    </form>
</div><!-- update -->
<br/>
<script src="./js/adults/update_adult.js"></script>

<div id="browse">  
   <table id="adultTable" border="1" cellpadding="5">  
       <thead>  
           <tr>  
               {{#each data.[0]}}  
               <th>  
                   {{@key}}  
               </th>  
               {{/each}}  
           </tr>  
       </thead>  
         
       <tbody>  
           {{#each data}}  
           <tr data-value={{this.adultID}}>  
               <td>{{this.adultID}}</td>  
               <td>{{this.firstName}}</td>
               <td>{{this.lastName}}</td>  
               <td>{{this.phone}}</td>  
               <td>{{this.email}}</td>
               <td>{{this.isGuardian}}</td>  
               <td>{{this.connectedAdultID}}</td>  
               <td><button onclick="deleteAdult({{this.adultID}})">Delete</button></td>
           </tr>  
           {{/each}}  
       </tbody>  
   </table>  
   <script src="./js/adults/delete_adult.js"></script>
</div>  

<p>&nbsp;</p> 

<div id="insert">
{{!-- Form to add a record to the table--}}
 <legend><strong><a id="addAdult">Add a New Adult Here</a></strong></legend>
<div id="insertAdult">
    <form id="insertAdultAjax">
        <fieldset class="fields">
            <label for="inputFirstName">First Name</label>
            <input type="text" name="inputFirstName" id="inputFirstName">

            <label for="inputLastName">Last Name</label>
            <input type="text" name="inputLastName" id="inputLastName">

            <label for="inputPhone">Phone</label>
            <input type="text" name="inputPhone" id="inputPhone">

            <label for="inputEmail">Email</label>
            <input type="text" name="inputEmail" id="inputEmail">

            <label for="inputIsGuardian">Are You a Guardian?</label>
            <!-- <input type="text" name="inputIsGuardian" id="inputIsGuardian"> -->
            <select name="inputIsGuardian" id="inputIsGuardian">
                    <option value="0">No</option>
                    <option value="1">Yes</option>
            </select>
            <label for="inputConnectedAdultID">Connected Adult ID</label>
            <!-- <input type="number" name="inputConnectedAdultID" id="inputConnectedAdultID"> -->
            <select name="inputConnectedAdultID" id="inputConnectedAdultID">
                <option value=""> Select secondary Adult guardian</option>
                {{#each data}}
                    <option value="{{this.adultID}}">{{this.firstName}} {{this.lastName}}</option>
                {{/each}}
            </select>
            <input type="submit">
        </fieldset>
    </form> 
</div><!-- insert -->

<script src="./js/adults/add_adult.js"></script>

<p>&nbsp;</p> 



 </body>