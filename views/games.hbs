<!--
    page and .js by Alwin Nocom

    Citation for the code turned in for CS 340 Step 5
    Date: 11/16/2022
    Adapted from Michael McDonell's adaptation of the Node Starter App
    Node Source URL: https://github.com/osu-cs340-ecampus/nodejs-starter-app
-->
<head>
<title>Games</title>
</head>
<h1>Games</h1>
<h2>Browse or Update Games</h2>
<legend><strong><a href="#addGame"><button>Add a Game Below</button></a></strong></legend>
<br/>
<legend><strong>Update a Game's info in the table</legend></strong>

<div id="updateGame">
    <form id="updateGameAjax">
        <label for="updateInfo">Game to Update: </label>
        <select name="inputNameUpdate" id="inputNameUpdate">
            {{#each data}}
            <option value="{{this.gameID}}">{{this.dateTime}}</option>
            {{/each}}
        </select>
            <label for="updateDateTime">Game DateTime</label>
            <input type="datetime-local" name="updateDateTime" id="updateDateTime">

            <label for="updateHomeScore">Home Score</label>
            <input type="number" name="updateHomeScore" id="updateHomeScore">

            <label for="updateAwayScore">Away Score</label>
            <input type="number" name="updateAwayScore" id="updateAwayScore">

            <label for="updateFieldNumber">Field Number</label>
            <input type="number" name="updateFieldNumber" id="updateFieldNumber">
            <br/>
            <label for="updateHomeTeamID">Home Team</label>

            <select name="updateHomeTeamID" id="updateHomeTeamID">
                <option value=""> Select Home Team </option>
                {{#each teams}}
                    <option value="{{this.teamID}}">{{this.name}}</option>
                {{/each}}
            </select>


            <!-- <input type="number" name="updateHomeTeamID" id="updateHomeTeamID"> -->

            <label for="updateAwayTeamID">Away Team</label>

            <select name="updateAwayTeamID" id="updateAwayTeamID">
                <option value=""> Select Away Team </option>
                {{#each teams}}
                    <option value="{{this.teamID}}">{{this.name}}</option>
                {{/each}}
            </select>

            <!-- <input type="number" name="updateAwayTeamID" id="updateAwayTeamID"> -->

            <label for="updateRefereeID">Referee</label>
            <!-- <input type="number" name="updateRefereeID" id="updateRefereeID"> -->

                        <select name="updateRefereeID" id="updateRefereeID">
                <option value=""> Select a Referee</option>
                {{#each refs}}
                    <option value="{{this.volunteerID}}">{{this.referee}}</option>
                {{/each}}
            </select>

        <input type="submit">
    </form>
</div><!-- update -->
<br>
<script src="./js/games/update_game.js"></script>

<div id="browse">  
   <table id="gameTable" border="1" cellpadding="5">  
       <thead>  
           <tr>  
               {{#each data.[0]}}  
               <th>  
                   {{@key}}  
               </th>  
               {{/each}}  
           </tr>  
       </thead>  
         
       <tbody>  
           {{#each data}}  
           <tr data-value={{this.gameID}}>  
               <td>{{this.gameID}}</td>  
               <td>{{this.dateTime}}</td>
               <td>{{this.homeScore}}</td>  
               <td>{{this.awayScore}}</td>  
               <td>{{this.fieldNumber}}</td>
               <td>{{this.homeTeamID}}</td>  
               <td>{{this.awayTeamID}}</td>
               <td>{{this.refereeID}}</td>  
               <td><button onclick="deleteGame({{this.gameID}})">Delete</button></td>
           </tr>  
           {{/each}}  
       </tbody>  
   </table>  
   <script src="./js/games/delete_game.js"></script>
</div>  

<p>&nbsp;</p> 
  
<div id="insertGame">
    <form id="insertGameAjax">
        <legend><strong><a id="addGame">Add Game</a></strong></legend>
        <fieldset class="fields">
            <label for="inputDateTime">Game DateTime</label>
            <input type="date" name="inputDateTime" id="inputDateTime">

            <label for="inputHomeScore">Home Score</label>
            <input type="text" name="inputHomeScore" id="inputHomeScore">

            <label for="inputAwayScore">Away Score</label>
            <input type="text" name="inputAwayScore" id="inputAwayScore">

            <label for="inputFieldNumber">Field Number</label>
            <input type="text" name="inputFieldNumber" id="inputFieldNumber">
            <br/>
            <label for="inputHomeTeamID">Home Team</label>
            <!-- <input type="text" name="inputHomeTeamID" id="inputHomeTeamID"> -->
            <select name="inputHomeTeamID" id="inputHomeTeamID">
                <option value=""> Select Home Team </option>
                {{#each teams}}
                    <option value="{{this.teamID}}">{{this.name}}</option>
                {{/each}}
            </select>
            <label for="inputAwayTeamID">Away Team</label>
            <!-- <input type="text" name="inputAwayTeamID" id="inputAwayTeamID"> -->
            <select name="inputAwayTeamID" id="inputAwayTeamID">
                <option value=""> Select Away Team </option>
                {{#each teams}}
                    <option value="{{this.teamID}}">{{this.name}}</option>
                {{/each}}
            </select>

            <label for="inputRefereeID">Referee</label>
            <!-- <input type="text" name="inputRefereeID" id="inputRefereeID"> -->
            <select name="inputRefereeID" id="inputRefereeID">
                <option value=""> Select a Referee</option>
                {{#each refs}}
                    <option value="{{this.volunteerID}}">{{this.referee}}</option>
                {{/each}}
            </select>

            <input type="submit">
        </fieldset>
    </form> 
</div><!-- insert -->

<script src="./js/games/add_game.js"></script>

<p>&nbsp;</p> 



 </body>